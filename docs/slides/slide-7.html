<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»†åˆ†ç¾¤ä½“è¯†åˆ« - é«˜ä»·å€¼ç”¨æˆ·ç¾¤ä½“ç‰¹å¾</title>
    <link rel="stylesheet" href="../styles.css">
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
</head>
<body class="slide-page">
    <div class="slide">
        <div class="slide-header">
            <h1 class="slide-title">ç»†åˆ†ç¾¤ä½“è¯†åˆ«</h1>
            <p class="slide-subtitle">é«˜ä»·å€¼ç”¨æˆ·ç¾¤ä½“ç‰¹å¾ä¸åˆ†å±‚åˆ†æ</p>
        </div>

        <div class="slide-content">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                <div class="content-section">
                    <h2 class="section-title">ç”¨æˆ·ä»·å€¼åˆ†å±‚</h2>
                    <div class="chart-container" id="userSegmentChart" style="height: 350px;"></div>
                </div>

                <div class="content-section">
                    <h2 class="section-title">é«˜ä»·å€¼TOP10ç»†åˆ†ç¾¤ä½“</h2>
                    <div class="chart-container" id="highValueChart" style="height: 350px;"></div>
                </div>
            </div>

            <div class="content-section">
                <h3 class="section-title">é«˜ä»·å€¼ç¾¤ä½“ç‰¹å¾</h3>
                <div class="metrics-grid" style="grid-template-columns: repeat(4, 1fr);">
                    <div class="metric-card">
                        <div class="metric-value">39ä¸ª</div>
                        <div class="metric-label">é«˜ä»·å€¼ç»†åˆ†ç¾¤ä½“</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">1499%</div>
                        <div class="metric-label">æœ€é«˜ROI</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">Â¥1033</div>
                        <div class="metric-label">æœ€é«˜å¹³å‡è®¢å•é¢</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">42%</div>
                        <div class="metric-label">é‡è¦ä¿æŒç”¨æˆ·å æ¯”</div>
                    </div>
                </div>
            </div>

            <div class="content-section">
                <h3 class="section-title">å…³é”®æ´å¯Ÿ</h3>
                <div class="insights-grid">
                    <div class="insight-card">
                        <div class="insight-icon">ğŸ‘‘</div>
                        <div class="insight-content">
                            <h4>é‡è¦ä»·å€¼ç”¨æˆ·æœ€ç¨€ç¼º</h4>
                            <p>ä»…å 3%ä½†å®¢å•ä»·é«˜è¾¾352å…ƒï¼Œæ˜¯é‡ç‚¹ç»´æŠ¤å¯¹è±¡</p>
                        </div>
                    </div>
                    <div class="insight-card">
                        <div class="insight-icon">ğŸ¯</div>
                        <div class="insight-content">
                            <h4>åŒ—äº¬åœ°åŒºé«˜ä»·å€¼ç¾¤ä½“é›†ä¸­</h4>
                            <p>é—®é¢˜å•†å“+å…é‚®åˆ¸ç»„åˆROIè¾¾1499%ï¼Œè¿œè¶…å…¶ä»–åœ°åŒº</p>
                        </div>
                    </div>
                    <div class="insight-card">
                        <div class="insight-icon">ğŸ“ˆ</div>
                        <div class="insight-content">
                            <h4>ç±»åˆ«1å•†å“è¡¨ç°ä¼˜å¼‚</h4>
                            <p>å¤šæ•°é«˜ä»·å€¼ç¾¤ä½“é›†ä¸­åœ¨ç±»åˆ«1å•†å“ï¼Œå¹³å‡ROIè¶…è¿‡400%</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        // ç”¨æˆ·ä»·å€¼åˆ†å±‚å›¾è¡¨
        const userSegmentChart = echarts.init(document.getElementById('userSegmentChart'));

        const segmentData = [
            { name: 'é‡è¦ä¿æŒç”¨æˆ·', value: 42.0, avgOrder: 165.6, refundRate: 51.6 },
            { name: 'é‡è¦æŒ½ç•™ç”¨æˆ·', value: 41.6, avgOrder: 163.2, refundRate: 53.2 },
            { name: 'é‡è¦å‘å±•ç”¨æˆ·', value: 13.4, avgOrder: 290.4, refundRate: 60.2 },
            { name: 'é‡è¦ä»·å€¼ç”¨æˆ·', value: 3.0, avgOrder: 352.4, refundRate: 53.3 }
        ];

        const segmentOption = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                },
                formatter: function(params) {
                    const data = params[0];
                    const segment = segmentData.find(d => d.name === data.name);
                    return `
                        <div style="padding: 10px;">
                            <strong>${data.name}</strong><br/>
                            ç”¨æˆ·å æ¯”: ${data.value}%<br/>
                            å¹³å‡è®¢å•é¢: Â¥${segment.avgOrder}<br/>
                            é€€æ¬¾ç‡: ${segment.refundRate}%
                        </div>
                    `;
                }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
                type: 'value',
                name: 'ç”¨æˆ·å æ¯” (%)'
            },
            yAxis: {
                type: 'category',
                data: segmentData.map(d => d.name),
                axisLabel: {
                    interval: 0
                }
            },
            series: [{
                name: 'ç”¨æˆ·å æ¯”',
                type: 'bar',
                data: segmentData.map(d => ({
                    value: d.value,
                    itemStyle: {
                        color: d.value > 30 ? '#10b981' :
                               d.value > 10 ? '#f59e0b' : '#3b82f6'
                    }
                })),
                label: {
                    show: true,
                    position: 'right',
                    formatter: '{c}%'
                }
            }]
        };

        userSegmentChart.setOption(segmentOption);

        // é«˜ä»·å€¼TOP10ç»†åˆ†ç¾¤ä½“å›¾è¡¨
        const highValueChart = echarts.init(document.getElementById('highValueChart'));

        const topSegments = [
            { userLevel: 'é‡è¦æŒ½ç•™', region: 'åŒ—äº¬', category: 'é—®é¢˜å•†å“', roi: 1499.1, avgOrder: 1032.7 },
            { userLevel: 'é‡è¦å‘å±•', region: 'å¹¿è¥¿', category: 'ç±»åˆ«1', roi: 851.7, avgOrder: 317.2 },
            { userLevel: 'é‡è¦ä»·å€¼', region: 'å±±è¥¿', category: 'ç±»åˆ«1', roi: 618.2, avgOrder: 303.5 },
            { userLevel: 'é‡è¦ä»·å€¼', region: 'åŒ—äº¬', category: 'ç±»åˆ«1', roi: 576.6, avgOrder: 188.4 },
            { userLevel: 'é‡è¦å‘å±•', region: 'ä¸Šæµ·', category: 'ç±»åˆ«1', roi: 549.1, avgOrder: 238.0 },
            { userLevel: 'é‡è¦å‘å±•', region: 'æ²³åŒ—', category: 'ç±»åˆ«1', roi: 515.3, avgOrder: 203.9 },
            { userLevel: 'é‡è¦å‘å±•', region: 'é™•è¥¿', category: 'ç±»åˆ«1', roi: 489.8, avgOrder: 157.3 },
            { userLevel: 'é‡è¦å‘å±•', region: 'æµ™æ±Ÿ', category: 'ç±»åˆ«1', roi: 418.4, avgOrder: 117.8 },
            { userLevel: 'é‡è¦ä»·å€¼', region: 'è´µå·', category: 'ç±»åˆ«1', roi: 405.9, avgOrder: 202.9 },
            { userLevel: 'é‡è¦æŒ½ç•™', region: 'å±±ä¸œ', category: 'ç±»åˆ«1', roi: 377.8, avgOrder: 143.3 }
        ];

        const highValueOption = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                },
                formatter: function(params) {
                    const data = params[0];
                    const segment = topSegments[data.dataIndex];
                    return `
                        <div style="padding: 10px;">
                            <strong>${segment.region} - ${segment.category}</strong><br/>
                            ç”¨æˆ·å±‚çº§: ${segment.userLevel}<br/>
                            ROI: ${segment.roi}%<br/>
                            å¹³å‡è®¢å•é¢: Â¥${segment.avgOrder}
                        </div>
                    `;
                }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
                type: 'value',
                name: 'ROI (%)'
            },
            yAxis: {
                type: 'category',
                data: topSegments.map((d, i) => `${i + 1}. ${d.region}`),
                axisLabel: {
                    interval: 0
                }
            },
            series: [{
                name: 'ROI',
                type: 'bar',
                data: topSegments.map(d => ({
                    value: d.roi,
                    itemStyle: {
                        color: d.roi > 1000 ? '#10b981' :
                               d.roi > 500 ? '#f59e0b' :
                               d.roi > 300 ? '#f97316' : '#ef4444'
                    }
                })),
                label: {
                    show: true,
                    position: 'right',
                    formatter: '{c}%'
                }
            }]
        };

        highValueChart.setOption(highValueOption);

        // å“åº”å¼å¤„ç†
        window.addEventListener('resize', function() {
            userSegmentChart.resize();
            highValueChart.resize();
        });
    </script>
</body>
</html>